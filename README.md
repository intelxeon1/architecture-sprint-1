# Задание 1

## Уровень 1. Проектирование

Не смотря на то, что Single SPA и Module Federation функционально схожи, Single SPA относят к фреймворкам, у которого больше возможностей, но следовательно, он сложнее. Для нашего простого проекта целесообразнее использовать более простой к использованию Module Federation для снижения порога входа и трудозатрат при первоначальной миграции. ри этом возможностей по масштабированию в перспективе более, чем достаточно. При выборе инструмента, довольно важный фактор — это наличие ответов на публичных ресурсах с примерами кода. Кажется, что с примерами у Module Federation проще в следующих сценариях: переиспользование общих компонентов, например, React, React Dom, а также хранение состояния без перехода на Redux. Требование Web Pack 5.0 не существенно.


## Уровень 2. Планирование изменений

Можно выделить на основе анализа кода следующие части:

- **модуль `auth`**: отвечает за аутентификацию, регистрацию, проверку JWT токена.
- **модуль `profile`**: отвечает за аватарку и имя с описанием.
- **модуль `cards`**: отвечает за получение карточек, отрисовку, проставление лайков, удаление и добавление.
- **модуль состояния `currentUserContext`**: остаётся без изменений и переходит в shared-library. На текущий момент состояние актуально для `auth` и `cards`. В будущем логически профиль и пользователь входа будут связаны, и тогда состояние "пошарится" и в module `profile`. Если разделить проект на несколько репозитариев, то shared выносится в отдельный пакет, как я понимаю, но в моно репе - это разделямый общий пакет. 

Можно подискутировать про то, что module `cards` достаточно "толстый". Структура данных сервера объединяет лайки и фото в единую сущность. Если как-то разбивать, то получится два запроса на бэкенд с одними и теми же данными. На текущий момент лайки не существуют без фото, кажется, что сейчас это сильно связанный функционал; возможно, в будущем, при появлении не только фото, а скажем, музыкальных треков и лайков к ним, лайки могут переехать в отдельный модуль, но пока такое дробление будет излишне. Добавление новой карточки пока не имеет смысла выносить, так как функционал крайне простой, попапы на добавление и редактирование (этого пока отсутствует, но почему нет в будущем) часто похожи и сильное дробление усложнит процесс разработки и выкатки.

## Уровень 3. Запуск готового кода

К сожалению, опыт с фронтом и React, а также крайне высокая загрузка не позволила на текущий момент реализовать эту часть. Тем не менее я разбил приложение на отдельные папки с логикой в каждом отдельном компоненте. 

# Задание 2
Файл arch_template_task2.drawio с новой архитектурой лежит в корне проекта